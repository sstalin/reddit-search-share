!function(){"use strict";angular.module("redditSearchShare",["ngAnimate","ngCookies","ngSanitize","ngResource","ui.router"])}(),function(){"use strict";function t(){function t(t){var e=/http|https/i.test(t)?t:"assets/images/unknown.png";return e}function e(){return this.hero}function o(t){this.hero=t}this.hero=null,this.get=e,this.set=o,this.imgUrl=t}angular.module("redditSearchShare").service("RedditPost",t)}(),function(){"use strict";function t(t,e){function o(o){var o=o||"funny",a=[];return e.on(),t({method:"GET",url:"https://www.reddit.com/r/"+o+"/.json"}).then(function(t){var o;if(200==t.status){if(o=t.data.data.children,o.length>0)for(var r in o)a.push(o[r]);e.off()}}),a}this.getPosts=o}angular.module("redditSearchShare").service("Reddit",t),t.$inject=["$http","Loader"]}(),function(){"use strict";function t(){function t(){o.show()}function e(){o.hide()}this.on=t,this.off=e;var o=angular.element("#loadingDim")}angular.module("redditSearchShare").service("Loader",t)}(),function(){"use strict";function t(){function t(t,e){}function e(t,e,o,a){e.on("dragover",function(t){"mail"==o.dropTarget&&(window.location.href="mailto:user@example.com?subject=Reddit"),"reddit"==o.dropTarget&&(window.location.href="https://www.reddit.com")})}var o={restrict:"AE",scope:{},controller:t,controllerAs:"vm",bindToController:!0,link:e};return t.$inject=["$scope","RedditPost"],o}angular.module("redditSearchShare").directive("dropTarget",t)}(),function(){"use strict";function t(){function t(){}function e(t,e,o,a){function r(){console.log("Start dragging")}e.on("dragstart",r)}var o={restrict:"AE",scope:{data:"=dragTarget"},controller:t,controllerAs:"vm",bindToController:!0,link:e};return o}angular.module("redditSearchShare").directive("dragTarget",t)}(),function(){"use strict";function t(){function t(t,e,o){var a=this;a.post,a.imgURL=o.imgUrl,a.setHeroCard=function(){var t=o.get();a.post=t}}function e(t,e,o,a){function r(){e.show(),i.show(),a.setHeroCard(),console.log("Modal is open ...")}function n(){e.hide(),i.hide(),console.log("Modal is closed ...")}var i=angular.element(".modal-backdrop");t.$on("open-modal",r),t.$on("close-modal",n),e.on("click",function(t){t.target===t.currentTarget&&n()})}var o={restrict:"AE",templateUrl:"app/components/modal/modal.html",scope:{creationDate:"="},controller:t,controllerAs:"vm",bindToController:!0,link:e};return t.$inject=["$rootScope","$scope","RedditPost"],o}angular.module("redditSearchShare").directive("modal",t)}(),function(){"use strict";function t(t,e,o,a){var r=this;e.search_category="funny",e.$watch("search_category",function(t,e){t&&t!==e&&(r.posts=o.getPosts(t))}),r.posts=o.getPosts(),r.imgURL=a.imgUrl,r.popModal=function(e){a.set(e),t.$broadcast("open-modal")}}angular.module("redditSearchShare").controller("MainController",t),t.$inject=["$rootScope","$scope","Reddit","RedditPost"]}(),function(){"use strict";function t(t){t.debug("runBlock end")}angular.module("redditSearchShare").run(t),t.$inject=["$log"]}(),function(){"use strict";function t(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}),e.otherwise("/")}angular.module("redditSearchShare").config(t),t.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("redditSearchShare").constant("malarkey",malarkey).constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function t(t,e){t.debugEnabled(!0)}angular.module("redditSearchShare").config(t),t.$inject=["$logProvider","toastr"]}(),angular.module("redditSearchShare").run(["$templateCache",function(t){t.put("app/main/main.html",'<header class="navbar"><div class="content"><span class="logo">Reddit</span><div class="search"><input type="text" ng-model="search_category" value="{{search_category}}"></div></div></header><div class="container"><ul class="no-bullet"><li class="post clearfix" ng-repeat="post in vm.posts" ng-click="vm.popModal(post);"><div class="img-container pull-left"><img ng-src="{{vm.imgURL(post.data.thumbnail);}}" alt=""></div><div class="details"><header class="author">{{post.data.author}}</header><p>{{post.data.title}}</p><footer><div class="icon icon-comments"></div><small class="crumb">{{post.data.num_comments}} comments</small><div class="icon icon-ups"></div><small class="crumb">{{post.data.ups}} ups</small><div class="icon icon-downs"></div><small class="crumb">{{post.data.downs}} downs</small></footer></div></li></ul></div>'),t.put("app/components/modal/modal.html",'<div class="content"><div draggable="true" class="card hero post pull-left"><div class="img-container"><img ng-src="{{vm.imgURL(vm.post.data.thumbnail);}}" alt=""></div><div class="details"><header class="author">{{vm.post.data.author}}</header><small>{{vm.post.data.title}}</small><footer><div class="icon icon-comments"></div><small class="crumb">{{vm.post.data.num_comments}}</small><div class="icon icon-ups"></div><small class="crumb">{{vm.post.data.ups}}</small></footer></div></div><div class="pull-right"><div drop-target="reddit" ondragover="" class="card reddit"><img src="../assets/images/reddit-logo.png" alt=""><h3>Open on Reddit</h3></div><br><div drop-target="mail" class="card mail"><img src="../assets/images/mail-logo.png" alt=""><h3>Email to a Friend</h3></div></div><div class="hint-box"><small class="hint">Drag the card on the left to the desired action</small></div></div>')}]);